---
title: Home
icon: 'mdi:home'
panel: false
path: home
badges: []
cards:

  # Input
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        template: custom_icon_name
        name: Lights
        icon: mdi:lightbulb-multiple
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: lights
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'lights')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'lights')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: AC
        icon: mdi:air-conditioner
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: ac
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'ac')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'ac')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: Plugs
        icon: mdi:power-socket-au
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: plugs
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'plugs')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'plugs')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: EWH
        icon: mdi:water-boiler
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: wb
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'wb')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'wb')
                    return '#00b59d';
                  return 'white';
                ]]]

  # Views
  - type: 'custom:state-switch'
    entity: input_select.home_view
    states:

      lights:
        type: entities
        show_header_toggle: false
        entities:
          - type: call-service
            name: Turn off all but outside light
            icon: mdi:lightbulb-multiple-off
            service: script.turn_on
            service_data:
              entity_id: script.turn_off_but_outside
          - light.sonoff_1000950368_1
          - entity: light.sonoff_1000766c93
            icon: 'mdi:floor-lamp'
          - entity: light.sonoff_100094ff53_1
            name: Cocina 1
          - entity: light.sonoff_100094ff53_2
            name: Cocina 2
          - entity: light.sonoff_1000954850_1
            name: Dormitorio
          - entity: light.sonoff_1000770cc7
            name: Mesa de luz
            icon: 'mdi:lamp'
          - light.sonoff_10008504ad
          - entity: light.sonoff_1000951aac
            name: WC
          - light.sonoff_1000951b70
          - light.sonoff_1000950368_2

      ac:
        type: entities
        entities:
          # Entities selection
          - input_select.ac_location
          # Entities displayed
          - type: 'custom:state-switch'
            entity: input_select.ac_location
            states:
              # Living's AC
              Living:
                type: thermostat
                entity: climate.living_ac
                name: ' '
              # Bedroom's AC
              Dormitorio:
                type: thermostat
                entity: climate.dormitorio_ac
                name: ' '
              # Bedroom's fan (with indoor temperature)
              Ventilador:
                type: entities
                entities:
                  - entity: sensor.dormitorio_temperatura
                    name: Temperatura
                  - type: 'custom:fan-control-entity-row'
                    entity: fan.sonoff_1000954850
                    name: Ventilador Dormitorio
                    customIsOffColor: 'rgb(32, 169, 139)'
                    customIsOffSpdColor: grey
                    customIsOnHiColor: 'rgb(32, 169, 139)'
                    customIsOnLowColor: 'rgb(32, 169, 139)'
                    customIsOnMedColor: 'rgb(32, 169, 139)'
                    customTheme: true
              # Stockroom's AC (with indoor temperature)
              Stockroom:
                type: entities
                entities:
                  - entity: sensor.deposito_temperatura
                    name: Temperature
                  - entity: switch.sonoff_100085069c
                    name: Stockroom's AC
                    icon: mdi:air-conditioner

      plugs:
        type: entities
        show_header_toggle: false
        entities:
          - entity: switch.160505002cf432c53e7b
            name: Air Fryer
            icon: mdi:power-socket-au
          - entity: switch.160505002cf432c569cb
            name: Misc
            icon: mdi:power-socket-au

      wb:
        type: entities
        show_header_toggle: false
        entities:
          - entity: switch.sonoff_10008508fb
            name: Termotanque
            icon: 'mdi:water-boiler'
          - entity: input_boolean.wb_ignore_trigger
          - type: custom:mini-graph-card
            line_width: 3
            hours_to_show: 8
            hour24: true
            points_per_hour: 3
            name: Temperature
            align_header: left
            align_icon: left
            entities:
              - sensor.termotanque_temperatura
            show:
              fill: false
              extrema: true
