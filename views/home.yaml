---
title: Home
icon: 'mdi:home'
panel: false
path: home
badges: []
cards:

  # Input
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        template: custom_icon_name
        name: Lights
        icon: mdi:lightbulb-multiple
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: lights
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'lights')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'lights')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: AC
        icon: mdi:air-conditioner
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: ac
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'ac')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'ac')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: Plugs
        icon: mdi:power-socket-au
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: plugs
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'plugs')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'plugs')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: Vacuum
        icon: mdi:robot-vacuum
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: vacuum
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'vacuum')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'vacuum')
                    return '#00b59d';
                  return 'white';
                ]]]

  # Views
  - type: 'custom:state-switch'
    entity: input_select.home_view
    states:

      lights:
        type: entities
        show_header_toggle: false
        entities:
          - type: call-service
            name: Turn off all but outside light
            icon: mdi:lightbulb-multiple-off
            service: script.turn_on
            service_data:
              entity_id: script.turn_off_but_outside
          - entity: light.living
            icon: mdi:lightbulb-multiple
          - entity: light.sonoff_1000766c93
            icon: 'mdi:floor-lamp'
          - entity: light.sonoff_100094ff53_1
            name: Cocina 1
          - entity: light.sonoff_100094ff53_2
            name: Cocina 2
          - entity: light.bedroom
            icon: mdi:lightbulb-multiple
          - entity: light.sonoff_1000770cc7
            name: Mesa de luz
            icon: 'mdi:lamp'
          - light.sonoff_10008504ad
          - entity: light.sonoff_1000951aac
            name: WC
          - light.sonoff_1000951b70
          - light.outdoor

      ac:
        type: entities
        entities:
          # Entities selection
          - input_select.ac_location
          # Entities displayed
          - type: 'custom:state-switch'
            entity: input_select.ac_location
            states:
              # Living's AC
              Living:
                type: entities
                entities:
                  - type: custom:simple-thermostat
                    entity: climate.living_ac
                    name: false
                    step_size: 1.0
                    step_layout: row
                    label:
                      temperature: Temp
                    sensors:
                      - entity: sensor.lu7and_humidity_in
                        name: RH
                      - entity: sensor.condensate_pump_watt
                        name: CP
                    control:
                      _names: false
              # Bedroom's AC
              Dormitorio:
                type: entities
                entities:
                  - type: custom:simple-thermostat
                    entity: climate.dormitorio_ac
                    name: false
                    step_size: 1.0
                    step_layout: row
                    label:
                      temperature: Temp
                    sensors:
                      - entity: sensor.dormitorio_humedad
                        name: RH
                      - entity: sensor.condensate_pump_watt
                        name: CP
                    control:
                      _names: false
                      hvac:
                        heat_cool: false
                  - input_number.fan_bedroom
              # Stockroom's AC (with indoor temperature)
              Stockroom:
                type: entities
                entities:
                  - entity: sensor.deposito_temperatura
                    name: Temperature
                  - entity: switch.sonoff_100085069c
                    name: Stockroom's AC
                    icon: mdi:air-conditioner

      plugs:
        type: entities
        show_header_toggle: false
        entities:
          - entity: switch.160505002cf432c53e7b
            name: Air Fryer
            icon: mdi:power-socket-au
          - entity: switch.160505002cf432c569cb
            name: Misc
            icon: mdi:power-socket-au
          - type: divider
          - entity: switch.sonoff_10008508fb
            name: Termotanque
            icon: 'mdi:water-boiler'
          - entity: input_boolean.wb_auto_trigger
          - type: custom:multiple-entity-row
            entity: sensor.temp_min_max
            name: Temperature
            icon: mdi:thermometer
            show_state: false
            entities:
              - attribute: min_value
                name: Min
              - attribute: max_value
                name: Max

      vacuum:
        type: custom:vacuum-card
        entity: vacuum.vacuum
        compact_view: true
        stats:
          default:
            - attribute: filter_left
              unit: hours
              subtitle: Filter
            - attribute: side_brush_left
              unit: hours
              subtitle: Side brush
            - attribute: main_brush_left
              unit: hours
              subtitle: Main brush
            - attribute: sensor_dirty_left
              unit: hours
              subtitle: Sensors
