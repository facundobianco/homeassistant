---
title: Home
icon: 'mdi:home'
panel: false
path: home
badges: []
cards:

  # Input
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        template: custom_icon_name
        name: Lights
        icon: mdi:lightbulb-multiple
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: lights
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'lights')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'lights')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: AC
        icon: mdi:air-conditioner
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: ac
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'ac')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'ac')
                    return '#00b59d';
                  return 'white';
                ]]]
      - type: custom:button-card
        template: custom_icon_name
        name: Plugs
        icon: mdi:power-socket-au
        tap_action:
          action: call-service
          service: input_select.set_options
          service_data:
            entity_id: input_select.home_view
            options: plugs
        styles:
          card:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'plugs')
                    return '#00b59d';
                  return 'white';
                ]]]
          icon:
            - color: >
                [[[
                  if (states['input_select.home_view'].state == 'plugs')
                    return '#00b59d';
                  return 'white';
                ]]]

  # Views
  - type: 'custom:state-switch'
    entity: input_select.home_view
    states:

      lights:
        type: entities
        show_header_toggle: false
        entities:
          - type: call-service
            name: Turn off all but outside light
            icon: mdi:lightbulb-multiple-off
            service: script.turn_on
            service_data:
              entity_id: script.turn_off_but_outside
          - type: custom:multiple-entity-row
            entity: light.living
            icon: mdi:lightbulb-multiple
            toggle: true
            entities:
              - icon: mdi:book-open-page-variant
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Living
                    scene_name: Lectura
              - icon: mdi:brightness-5
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Living
                    scene_name: Energ√≠a
              - icon: mdi:palm-tree
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Living
                    scene_name: "Palm Beach"
              - icon: mdi:weather-night
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Living
                    scene_name: "Luz nocturna"
          - entity: light.sonoff_1000766c93
            icon: 'mdi:floor-lamp'
          - entity: light.sonoff_100094ff53_1
            name: Cocina 1
          - entity: light.sonoff_100094ff53_2
            name: Cocina 2
          - type: custom:multiple-entity-row
            entity: light.bedroom
            icon: mdi:lightbulb-multiple
            toggle: true
            entities:
              - icon: mdi:brightness-5
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Bedroom
                    scene_name: Luminosa
              - icon: mdi:brightness-6
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Bedroom
                    scene_name: Atenuada
              - icon: mdi:weather-night
                state_color: false
                tap_action:
                  action: call-service
                  service: hue.hue_activate_scene
                  service_data:
                    group_name: Bedroom
                    scene_name: "Luz nocturna"
          - entity: light.sonoff_1000770cc7
            name: Mesa de luz
            icon: 'mdi:lamp'
          - light.sonoff_10008504ad
          - entity: light.sonoff_1000951aac
            name: WC
          - light.sonoff_1000951b70
          - light.outdoor

      ac:
        type: vertical-stack
        cards:
          - type: entities
            title: Living
            entities:
              - type: custom:simple-thermostat
                entity: climate.living_ac
                name: false
                step_size: 1.0
                step_layout: row
                label:
                  temperature: Temp
                sensors:
                  - entity: sensor.lu7and_humidity_in
                    name: RH
                  - entity: sensor.condensate_pump_watt
                    name: CP
                control:
                  _names: false
          - type: entities
            title: Bedroom
            entities:
              - type: custom:simple-thermostat
                entity: climate.dormitorio_ac
                name: false
                step_size: 1.0
                step_layout: row
                label:
                  temperature: Temp
                sensors:
                  - entity: sensor.dormitorio_humedad
                    name: RH
                  - entity: sensor.condensate_pump_watt
                    name: CP
                control:
                  _names: false
                  hvac:
                    heat_cool: false
              - input_number.fan_bedroom
          - type: entities
            title: Stockroom
            entities:
              - type: custom:multiple-entity-row
                entity: switch.sonoff_100085069c
                name: Stockroom's AC
                icon: mdi:air-conditioner
                toggle: true
                entities:
                  - entity: sensor.deposito_temperatura
                    name: false

      plugs:
        type: entities
        show_header_toggle: false
        entities:
          - type: custom:multiple-entity-row
            entity: switch.sonoff_10008508fb
            name: Termotanque
            icon: 'mdi:water-boiler'
            toggle: true
            entities:
              - entity: sensor.termotanque_temperatura
                name: false
          - entity: input_boolean.wb_auto_trigger
          - type: divider
          - entity: switch.160505002cf432c53e7b
            name: Air Fryer
            icon: mdi:power-socket-au
          - entity: switch.160505002cf432c569cb
            name: Misc
            icon: mdi:power-socket-au
          - type: divider
          - type: custom:vacuum-card
            style: |
              ha-card .preview {
                background-color: var(--secondary-background-color);
              }
            entity: vacuum.vacuum
            compact_view: true
            stats:
              default:
                - attribute: filter_left
                  unit: hours
                  subtitle: Filter
                - attribute: side_brush_left
                  unit: hours
                  subtitle: Side brush
                - attribute: main_brush_left
                  unit: hours
                  subtitle: Main brush
                - attribute: sensor_dirty_left
                  unit: hours
                  subtitle: Sensors
